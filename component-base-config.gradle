def getPropertiesBoolean(String name) {
    localPro.containsKey(name) && localPro.get(name).toBoolean()
}


ext {
    File file = file(rootProject.projectDir.toString() + '\\' + 'local.properties')
    println 'test load local.properties path=' + file.toString()
    localPro = new Properties()
    if (file.exists()) {
        //加载资源
        InputStream inputStream = file.newDataInputStream()
        localPro.load(inputStream)
        for (Object o : localPro.keySet()) {
            name = o.toString()
            if (name.startsWith('use')) {
                println name + '=' + getPropertiesBoolean(name)
            }
        }
    }

    getPropertiesValue= { name ->
        localPro.containsKey(name) ? localPro.get(name) : "Erro!!No this Value!!"
    }

    getPropertiesBoolean= { name ->
        localPro.containsKey(name) && localPro.get(name).toBoolean()
    }

    // 解析local.properties里的配置属性
    useLocalModuleTest = getPropertiesBoolean('useLocalModuleTest')

}